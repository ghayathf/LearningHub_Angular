<body>
  <app-trainer-header></app-trainer-header>
  <ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#76BDF5" type="line-scale-party" [fullScreen]="true">
  </ngx-spinner>
  <main>

    <!-- =======================
  Page intro START -->
    <section class="bg-light py-0 py-sm-5">
      <div class="container">
        <div class="row py-5">
          <div class="col-lg-8">
            <!-- Badge -->

            <!-- Title -->
            <h1>{{ courseName }}</h1>
            <p>{{ courseDesc }}</p>
            <!-- Content -->
            <ul class="list-inline mb-0">

              <li class="list-inline-item h6 me-3 mb-1 mb-sm-0"><i class="fas fa-user-graduate text-orange me-2"></i>{{ capacity }}</li>
              <li class="list-inline-item h6 me-3 mb-1 mb-sm-0"><i class="fas fa-signal text-success me-2"></i>{{ courseLevel }}</li>
              <li class="list-inline-item h6 me-3 mb-1 mb-sm-0"><i
                  class="bi bi-patch-exclamation-fill text-danger me-2"></i>from {{ startTime }} To {{ endTime }}</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <!-- =======================
  Page intro END -->

    <!-- =======================
  Page content START -->
    <section class="pb-0 py-lg-5">
      <div class="container">
        <div class="row">
          <!-- Main content START -->
          <div class="col-lg-8">
            <div class="card shadow rounded-2 p-0">
              <!-- Tabs START -->
              <div class="card-header border-bottom px-4 py-3">
                <ul class="nav nav-pills nav-tabs-line py-0" id="course-pills-tab" role="tablist">

                  <!-- Tab item -->
                  <li class="nav-item me-2 me-sm-4" role="presentation">
                    <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-2" data-bs-toggle="pill"
                      data-bs-target="#course-pills-2" type="button" role="tab" aria-controls="course-pills-2"
                      aria-selected="false">Take Attendance</button>
                  </li>
                  <!-- Tab item -->
                  <li class="nav-item me-2 me-sm-4" role="presentation">
                    <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-4" data-bs-toggle="pill"
                      data-bs-target="#course-pills-4" type="button" role="tab" aria-controls="course-pills-4"
                      aria-selected="false">Tasks</button>
                  </li>
                  <!-- Tab item -->
                  <li class="nav-item me-2 me-sm-4" role="presentation">
                    <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-5" data-bs-toggle="pill"
                      data-bs-target="#course-pills-5" type="button" role="tab" aria-controls="course-pills-5"
                      aria-selected="false">Materials </button>
                  </li>
                  <!-- Tab item -->
                  <li class="nav-item me-2 me-sm-4" role="presentation">
                    <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-6" data-bs-toggle="pill"
                      data-bs-target="#course-pills-6" type="button" role="tab" aria-controls="course-pills-6"
                      aria-selected="false">Conversation</button>
                  </li>
                  <li class="nav-item me-2 me-sm-4" role="presentation">
                    <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-4" data-bs-toggle="pill"
                      data-bs-target="#course-pills-7" type="button" role="tab" aria-controls="course-pills-7"
                      aria-selected="false">Trainees</button>
                  </li>
                </ul>
              </div>
              <!-- Tabs END -->

              <!-- Tab contents START -->
              <div class="card-body p-4">
                <div class="tab-content pt-2" id="course-pills-tabContent">
                  <!-- Content START -->

                  <!-- Content END -->

                  <!-- TakeAttendance START -->
                  <div class="tab-pane fade" id="course-pills-2" role="tabpanel" aria-labelledby="course-pills-tab-2">
                    <!-- Course accordion START -->
                    <table class="table table-dark-gray align-middle p-4 mb-0 table-hover" id="excel-table">
                      <!-- Table head -->

                      <thead>
                        <tr>
                          <th scope="col" class="border-0"style=" background-color:#1d3b53 ;">Trainee Name</th>
                          <th scope="col" class="border-0"style=" background-color:#1d3b53 ;">Email</th>
                          <th scope="col" class="border-0"style=" background-color:#1d3b53 ;">Phone Number</th>
                          <th scope="col" class="border-0 rounded-end"style=" background-color:#1d3b53 ;">Is Absent</th>
                        </tr>
                      </thead>

                      <!-- Table body START -->
                      <tbody>

                        <!-- Table row -->
                        <tr *ngFor="let item of combinedArray">


                          <!-- Table data -->
                          <td *ngIf="item.firstname">
                            <div class="d-flex align-items-center theadmb-3">

                              <!-- Info -->
                              <div class="ms-2">
                                <h4 class="mb-0 fw-light">{{ item.firstname }} {{ item.lastname }}</h4>
                              </div>
                            </div>
                          </td>
                          <td *ngIf="item.firstname">
                            <div class="d-flex align-items-center mb-3">

                              <!-- Info -->
                              <div class="ms-2">
                                <h4 class="mb-0 fw-light">{{ item.email }}</h4>
                              </div>
                            </div>
                          </td>
                          <td *ngIf="item.firstname">
                            <div class="d-flex align-items-center mb-3">

                              <!-- Info -->
                              <div class="ms-2">
                                <h4 class="mb-0 fw-light">{{ item.phonenumber }}</h4>
                              </div>
                            </div>
                          </td>

                          <td *ngIf="item.firstname">
                            <div>
                              <input type="checkbox" [(ngModel)]="item.attendance">
                            </div>
                          </td>


                        </tr>
                        <input type="submit" (click)="submitAttendance()" class="btn btn-info" value="Submit">

                      </tbody>
                      <!-- Table body END -->
                    </table>
                    <!-- Course accordion END -->
                  </div>
                  <!-- Content END -->
<!--All Trainees Start -->
<div class="tab-pane fade" id="course-pills-7" role="tabpanel" aria-labelledby="course-pills-tab-7">
  <div class="row g-3 align-items-center justify-content-between mb-4">
    <!-- Search -->

  </div>
  <!-- Course accordion START -->
  <div class="table-responsive border-0">
    <table class="table table-dark-gray align-middle p-4 mb-0 table-hover">
      <!-- Table head -->
      <thead>
        <tr>
          <th scope="col" class="border-0 rounded-start"style=" background-color:#1d3b53 ;">Student name</th>
          <th scope="col" class="border-0"style=" background-color:#1d3b53 ;">Total Mark</th>
          <th scope="col" class="border-0"style=" background-color:#1d3b53 ;">Total Attendance</th>
          <th scope="col" class="border-0"style=" background-color:#1d3b53 ;">Email</th>
          <th scope="col" class="border-0 rounded-end"style=" background-color:#1d3b53 ;">Action</th>
        </tr>
      </thead>

      <!-- Table body START -->
      <tbody>

        <!-- Table item -->
        <tr *ngFor="let item of combinedArray">
          <!-- Table data -->
          <td *ngIf="item.firstname">
            <div class="d-flex align-items-center position-relative">
              <!-- Image -->
              <div class="avatar avatar-md mb-2 mb-md-0">
                <img src="../../../assets/HomeAssets/images/{{ item.imagename }}" class="rounded" alt="">
              </div>
              <div class="mb-0 ms-2">
                <!-- Title -->
                <h6 class="mb-0"><a href="#" class="stretched-link">{{ item.firstname }} {{ item.lastname }}</a></h6>
                <!-- Address -->
              </div>
            </div>
          </td>

          <!-- Table data -->
          <td *ngIf="item.firstname" class="text-center text-sm-start">
            <div class=" overflow-hidden">
              <h4 class="mb-0 bold">{{ item.totalmark }}%</h4>
              <div class="progress progress-sm bg-primary bg-opacity-10">
                  <mat-progress-bar mode="determinate" value="{{ item.totalmark }}"></mat-progress-bar>

                </div>
              </div>
          </td>

          <!-- Table data -->
          <td *ngIf="item.firstname">{{ item.totalattendance }}</td>

          <!-- Table data -->
          <td *ngIf="item.firstname">{{ item.email }}</td>

          <!-- Table data -->
          <td *ngIf="item.firstname">
            <a (click)="OpenSolsDialog(item.tsid)" class="btn btn-success-soft btn-round me-1 mb-0" data-bs-toggle="tooltip" data-bs-placement="top" title="Message"><i class="bi bi-info-circle"></i></a>
          </td>
        </tr>

      </tbody>
      <!-- Table body END -->
    </table>
  </div>
  <!-- Course accordion END -->
</div>


<!-- Content START -->

                  <!-- Content END -->

                  <!-- Content START -->
                  <div class="tab-pane fade" id="course-pills-4" role="tabpanel" aria-labelledby="course-pills-tab-4">

                    <a (click)="OpenCreateTaskDialog()" class="btn btn-sm btn-primary mb-0"
                      style=" background-color:#1d3b53 ;">Upload Task</a>

                    <hr>
                    <br />
                    <!-- Course list table START -->
                    <div class="table-responsive border-0">
                      <table class="table table-dark-gray align-middle p-4 mb-0 table-hover">
                        <!-- Table head -->
                        <thead>
                          <tr>
                            <th scope="col" class="border-0 rounded-start" style=" background-color:#1d3b53 ;">Task</th>
                            <th scope="col" class="border-0" style=" background-color:#1d3b53 ;">Start Date</th>
                            <th scope="col" class="border-0" style=" background-color:#1d3b53 ;">End Date</th>
                            <th scope="col" class="border-0 " style=" background-color:#1d3b53 ;">weight</th>
                            <th scope="col" class="border-0 " style=" background-color:#1d3b53 ;">Note</th>
                            <!-- <th scope="col" class="border-0 " style=" background-color:#1d3b53 ;">Status</th> -->
                            <th scope="col" class="border-0 rounded-end" style=" background-color:#1d3b53 ;">Action</th>

                          </tr>
                        </thead>

                        <!-- Table body START -->
                        <tbody>



                          <!-- Table item -->
                          <tr *ngFor="let item of tasks">
                            <!-- Course item -->
                            <td *ngIf="item.tasktype">
                              <div class="d-flex align-items-center">
                                <!-- Image -->

                                <div class="mb-0 ms-2">
                                  <!-- Title -->
                                  <h4>{{item.tasktype}}</h4>
                                  <!-- Info -->

                                </div>
                              </div>
                            </td>

                            <!-- Enrolled item -->
                            <td *ngIf="item.tasktype" class="text-center text-sm-start">{{item.starttime | slice:0:10 }}</td>
                            <td *ngIf="item.tasktype" class="text-center text-sm-start">{{item.endtime | slice:0:10 }}</td>
                            <td *ngIf="item.tasktype" class="text-center text-sm-start">{{item.weight }}</td>

                            <td *ngIf="item.tasktype" class="text-center text-sm-start">{{item.tasknote }}</td>
                            <!-- <td *ngIf="item.tasktype" class="text-center text-sm-start">{{item.taskstatus }}</td> -->



                            <!-- Price item -->

                            <!-- Action item -->
                            <td *ngIf="item.tasktype">
                              <button (click)="downloadTask(item.taskid)"
                                class="btn btn-sm btn-primary-soft btn-round mb-0"><i
                                  class="fas fa-fw fa-download"></i></button>
                              <button (click)="OpenUpdateTask(item.taskid)"
                                class="btn btn-sm btn-success-soft btn-round me-1 mb-0"><i
                                  class="far fa-fw fa-edit"></i></button>
                              <button (click)="openDeleteTask(item.taskid)"
                                class="btn btn-sm btn-danger-soft btn-round mb-0"><i
                                  class="fas fa-fw fa-times"></i></button>
                                  <button (click)="OpenTaskSolutionDialog(item.taskid,item.weight)"
                                class="btn btn-sm  btn-white-shadowext-warning  btn-round mb-0"><i
                                  class="fa fa-folder-open"></i></button>
                            </td>
                          </tr>





                        </tbody>
                        <!-- Table body END -->
                      </table>
                    </div>
                  </div>

                  <!-- Content END -->

                  <!-- Content START -->
                  <div class="tab-pane fade" id="course-pills-5" role="tabpanel" aria-labelledby="course-pills-tab-5">
                    <a (click)="OpenDialog()" class="btn btn-sm btn-primary mb-0"
                      style=" background-color:#1d3b53 ;">Upload Material</a>
                    <hr>
                    <br />
                    <!-- Course list table START -->
                    <div class="table-responsive border-0">
                      <table class="table table-dark-gray align-middle p-4 mb-0 table-hover">
                        <!-- Table head -->
                        <thead>
                          <tr>
                            <th scope="col" class="border-0 rounded-start" style=" background-color:#1d3b53 ;">Material
                              Name</th>
                            <th scope="col" class="border-0" style=" background-color:#1d3b53 ;">Date Uploded</th>

                            <th scope="col" class="border-0" style=" background-color:#1d3b53 ;">Download</th>
                            <th scope="col" class="border-0 rounded-end" style=" background-color:#1d3b53 ;">Action</th>
                          </tr>
                        </thead>

                        <!-- Table body START -->
                        <tbody>



                          <!-- Table item -->
                          <tr  *ngFor="let item of materials" >
                            <!-- Course item -->
                            <td *ngIf="item.materialname">
                              <div class="d-flex align-items-center">
                                <!-- Image -->

                                <div class="mb-0 ms-2">
                                  <!-- Title -->
                                  <h4 >{{item.materialname}}</h4>
                                  <!-- Info -->

                                </div>
                              </div>
                            </td>
                            <!-- Enrolled item -->
                            <td *ngIf="item.materialname" class="text-center text-sm-start">{{item.dateuploaded | slice:0:10 }}</td>

                            <!-- Price item -->
                            <td *ngIf="item.materialname"> <button class="btn btn-sm btn-primary-soft btn-round mb-0"><i
                                  class="fas fa-fw fa-download" (click)="downloadFile(item.materialid)"></i></button>
                            </td>
                            <!-- Action item -->
                            <td *ngIf="item.materialname">
                              <button href="#" class="btn btn-sm btn-success-soft btn-round me-1 mb-0"><i
                                  class="far fa-fw fa-edit" (click)="openUpdateDialog(item.materialid)"></i></button>
                              <button class=" btn btn-sm btn-danger-soft btn-round mb-0"><i class="fas fa-fw fa-times"
                                  (click)="openDeleteDialog(item.materialid)"></i></button>
                            </td>
                          </tr>





                        </tbody>
                        <!-- Table body END -->
                      </table>
                    </div>
                  </div>
                  <!-- Content END -->

                  <!-- Content START -->
                  <div class="tab-pane fade" id="course-pills-6" role="tabpanel" aria-labelledby="course-pills-tab-6">

                    <!-- Review START -->

                    <div class="row">

                        <div class="col-12">

                            <h5 class="mb-4">Ask Your Question</h5>

                            <!-- Comment box -->
                            <div class="d-flex mb-4">

                                <!-- Avatar -->
                                <div class="avatar avatar-sm flex-shrink-0 me-2">
                                    <a href="#"> <img class="avatar-img rounded-circle"
                                            src="../../../assets/HomeAssets/images/{{ Trimg}}" alt=""> </a>
                                </div>

                                <form [formGroup]="CommentForm">
                                    <mat-form-field class="example-full-width">
                                        <mat-label>Leave a comment</mat-label>
                                        <textarea matInput formControlName="commentmessage" matInput placeholder="Ex. It makes me feel..."
                                            class="one form-control pe-4 bg-light w-150px"
                                            style="width: 150px; min-width: 150px; max-width: 150px;"></textarea>
                                    </mat-form-field>
                                    <button class="btn btn-primary ms-2" (click)="CreateComment()" type="button">Post</button>
                                </form>

                            </div>

                            <!-- Comment item START -->
                            <div class="border p-2 p-sm-4 rounded-3 mb-4">
                                <ul class="list-unstyled mb-0">
                                    <li class="comment-item " *ngFor="let item of commentsArr">
                                        <div class="mb-3">

                                            <!-- Avatar -->
                                            <div class="avatar avatar-sm flex-shrink-0">
                                                <a href="#"><img class="avatar-img rounded-circle"
                                                        src="../../../assets/HomeAssets/images/{{ item.imagename }}" alt=""></a>
                                            </div>

                                            <div class="ms-2">
                                                <!-- Comment by -->
                                                <div class="bg-light p-3 rounded">
                                                    <div class="justify-content-center">
                                                        <div class="me-2">
                                                          <div style="display: flex; flex-direction: row;">
                                                            <h3 class="fw-bold">{{ item.firstname }} {{ item.lastname }}</h3>
                                                            <div style="display: flex; flex-direction: column;margin-left: auto;">
                                                              <small class="bi bi-calendar-event">  {{ item.datepublished | slice:5:10 }}</small>
                                                              <small class="bi bi-alarm">  {{ item.datepublished | slice:11:16 }}</small>
                                                          </div>
                                                          </div>

                                                            <h6 class="mb-1 "> <a href="#!"> </a></h6>
                                                            <p class="">{{item.commentmessage}}</p>
                                                        </div>

                                                    </div>
                                                </div>
                                                <!-- Comment react -->
                                            </div>
                                        </div>

                                        <!-- Comment item nested START -->
                                        <!-- Comment item nested END -->

                                    </li>
                                </ul>
                            </div>
                            <!-- Comment item END -->
                        </div>
                    </div>
                </div>
                  <!-- Content END -->

                </div>
              </div>
              <!-- Tab contents END -->
            </div>
          </div>
          <!-- Main content END -->

          <!-- Right sidebar START -->
          <div class="col-lg-4 pt-5 pt-lg-0">
            <div class="row mb-5 mb-lg-0">
              <div class="col-md-6 col-lg-12">
                <!-- Video START -->
                <div class="card p-2 mb-4 z-index-9">
                  <div class="overflow-hidden rounded-3">
                    <img src="../../../assets/HomeAssets/images/{{ courseImage }}" class="card-img"
                      alt="course image">
                    <!-- Overlay -->
                    <div class="card-img-overlay d-flex align-items-start flex-column p-3">
                      <!-- Video button and link -->

                    </div>
                  </div>

                  <!-- Card body -->

                </div>
                <!-- Video END -->

                <!-- Course info START -->

                <!-- Course info END -->
              </div>


            </div><!-- Row End -->
          </div>
          <!-- Right sidebar END -->

        </div><!-- Row END -->
      </div>
    </section>
    <!-- =======================
  Page content END -->

    <!-- =======================
  Listed courses START -->

    <!-- =======================
  Listed courses END -->

  </main>

</body>



<ng-template #CreateForm>



  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
    style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
    <!-- Main banner background image -->
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <!-- Title -->
          <h1 class="text-white">Upload new material</h1>
        </div>
      </div>
    </div>
  </section>

  <section >
    <div class="container">
      <div class="row">
        <div class="col-md-8 mx-auto text-center">
          <!-- Content -->
        </div>
      </div>

      <div class="card bg-transparent border rounded-3 mb-5">
        <div id="stepper" class="bs-stepper stepper-outline">


          <!-- Card body START -->
          <div class="card-body">
            <!-- Step content START -->
            <div class="bs-stepper-content">
              <form [formGroup]="CreateMaterialForm">

                <!-- Step 1 content START -->

                <!-- Title -->

                <hr> <!-- Divider -->

                <!-- Basic information START -->
                <div class="row g-4">
                  <!-- Course title -->




                  <mat-form-field class="example-full-width">
                    <mat-label>Material Name</mat-label>
                    <input type="text" matInput formControlName="materialname">

                    <mat-error *ngIf="CreateMaterialForm.controls['materialname'].hasError('required')">
                      Name of Material is <strong>required</strong>
                    </mat-error>
                  </mat-form-field>







                  <div class="col-12">
                    <div
                      class="text-center justify-content-center align-items-center p-4 p-sm-5 border border-2 border-dashed position-relative rounded-3">
                      <!-- Image -->
                      <img src="assets/images/element/gallery.svg" class="h-50px" alt="">
                      <div>
                        <h6 class="my-2">Upload Material file here, or<a href="#!" class="text-primary"> Browse</a>
                        </h6>
                        <label style="cursor:pointer;">
                          <span>

                            <input class="form-control stretched-link" type="file" name="my-image" id="image"
                              (change)="UploaMaterial(file)" #file />
                          </span>
                        </label>

                      </div>
                    </div>
                  </div>


                  <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-primary" mat-dialog-close [disabled]=" CreateMaterialForm.invalid"
                      value="Create" (click)="CreateMaterial()">Upload</button>
                  </div>
                </div>

              </form>
            </div>
          </div>
          <!-- Card body END -->
        </div>
      </div>
    </div>
  </section>
  <!-- =======================
Steps END -->

</ng-template>
<ng-template #DeleteForm>
  <h2 mat-dialog-content>Would you like to Delete this File ?</h2>
  <div mat-dialog-actions>
    <input type="button" mat-dialog-close class="btn btn-success" value="Yes" (click)="DeleteMaterial()">
    <input type="button" mat-dialog-close class="btn btn-error" value="No">
  </div>
</ng-template>
<ng-template #UpdateForm>



  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
    style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
    <!-- Main banner background image -->
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <!-- Title -->
          <h1 class="text-white">Update material</h1>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-8 mx-auto text-center">
          <!-- Content -->
        </div>
      </div>

      <div class="card bg-transparent border rounded-3 mb-5">
        <div id="stepper" class="bs-stepper stepper-outline">


          <!-- Card body START -->
          <div class="card-body">
            <!-- Step content START -->
            <div class="bs-stepper-content">
              <form [formGroup]="UpdateMaterialForm">

                <!-- Step 1 content START -->

                <!-- Title -->

                <hr> <!-- Divider -->

                <!-- Basic information START -->
                <div class="row g-4">
                  <!-- Course title -->




                  <mat-form-field class="example-full-width">
                    <mat-label>Material Name</mat-label>
                    <input type="text" matInput formControlName="materialname">

                    <mat-error *ngIf="CreateMaterialForm.controls['materialname'].hasError('required')">
                      Name of Material is <strong>required</strong>
                    </mat-error>
                  </mat-form-field>







                  <div class="col-12">
                    <div
                      class="text-center justify-content-center align-items-center p-4 p-sm-5 border border-2 border-dashed position-relative rounded-3">
                      <!-- Image -->
                      <img src="assets/images/element/gallery.svg" class="h-50px" alt="">
                      <div>
                        <h6 class="my-2">Upload Material file here, or<a href="#!" class="text-primary"> Browse</a>
                        </h6>
                        <label style="cursor:pointer;">
                          <span>

                            <input class="form-control stretched-link" type="file" name="my-image" id="image"
                              (change)="UploaMaterial(file)" #file />
                          </span>
                        </label>

                      </div>
                    </div>
                  </div>


                  <div class="d-flex justify-content-end mt-3">
                    <button class="btn btn-primary" mat-dialog-close value="Create"
                      (click)="UpdateMaterial()">Upload</button>
                  </div>
                </div>

              </form>
            </div>
          </div>
          <!-- Card body END -->
        </div>
      </div>
    </div>
  </section>
  <!-- =======================
Steps END -->

</ng-template>
<ng-template #CreateTaskForm>



  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
    style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
    <!-- Main banner background image -->
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <!-- Title -->
          <h1 class="text-white">Upload New Task</h1>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-8 mx-auto text-center">
          <!-- Content -->
        </div>
      </div>

      <div class="card bg-transparent border rounded-3 mb-5">
        <div id="stepper" class="bs-stepper stepper-outline">


          <!-- Card body START -->
          <div class="card-body">
            <!-- Step content START -->
            <div class="bs-stepper-content">
              <form [formGroup]="CreateTaskFormm">

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <mat-label>Task Name</mat-label>
                      <input type="text" matInput formControlName="tasktype">

                      <mat-error *ngIf="CreateTaskFormm.controls['tasktype'].hasError('required')">
                        Name of Task is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>

                  </div>
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <mat-label>Note</mat-label>
                      <input type="text" matInput formControlName="tasknote">

                      <mat-error *ngIf="CreateTaskFormm.controls['tasknote'].hasError('required')">
                        Note is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>

                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>Start Date</mat-label>
                      <input matInput [matDatepicker]="picker3" formControlName='starttime' name="startDate">
                      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                      <mat-datepicker #picker3></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>End Date</mat-label>
                      <input matInput [matDatepicker]="picker4" formControlName='endtime' name="EndDate">
                      <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                      <mat-datepicker #picker4></mat-datepicker>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <mat-label>Weight</mat-label>
                      <input type="number" matInput formControlName="weight">

                      <mat-error *ngIf="CreateTaskFormm.controls['weight'].hasError('required')">
                        Weight is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>

                </div>




                <div class="col-12">
                  <div
                    class="text-center justify-content-center align-items-center p-4 p-sm-5 border border-2 border-dashed position-relative rounded-3">
                    <!-- Image -->

                    <div>
                      <h6 class="my-2">Upload Task file here
                      </h6>
                      <label style="cursor:pointer;">
                        <span>

                          <input class="form-control stretched-link" type="file" name="my-image" id="image"
                            (change)="UploadTask(file)" #file />
                        </span>
                      </label>
                      <p class="small mb-0 mt-2"><b>Note:</b> Only JPG, JPEG and PNG.
                        Our
                        suggested dimensions are 600px * 450px. Larger image will be
                        cropped
                        to 4:3 to fit our thumbnails/previews.</p>

                    </div>
                  </div>
                </div>


                <div class="d-flex justify-content-end mt-3">
                  <button class="btn btn-primary" mat-dialog-close [disabled]=" CreateTaskFormm.invalid" value="Create"
                    (click)="CreateTask()">Upload</button>
                </div>


              </form>
            </div>
          </div>
          <!-- Card body END -->
        </div>
      </div>
    </div>
  </section>
  <!-- =======================
Steps END -->

</ng-template>
<ng-template #DeleteTaskForm>
  <h2 mat-dialog-content>Would you like to Delete this File ?</h2>
  <div mat-dialog-actions>
    <input type="button" mat-dialog-close class="btn btn-danger" value="Yes" (click)="DeleteTask()">
    <input type="button" mat-dialog-close class="btn btn-error" value="No">
  </div>
</ng-template>
<ng-template #UpdateTaskForm>



  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
    style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
    <!-- Main banner background image -->
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <!-- Title -->
          <h1 class="text-white">Update the Task</h1>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-8 mx-auto text-center">
          <!-- Content -->
        </div>
      </div>

      <div class="card bg-transparent border rounded-3 mb-5">
        <div id="stepper" class="bs-stepper stepper-outline">


          <!-- Card body START -->
          <div class="card-body">
            <!-- Step content START -->
            <div class="bs-stepper-content">
              <form [formGroup]="UpdateTaskFormm">

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <mat-label>Task Name</mat-label>
                      <input type="text" matInput formControlName="tasktype">

                      <mat-error *ngIf="UpdateTaskFormm.controls['tasktype'].hasError('required')">
                        Name of Task is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>

                  </div>
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <mat-label>Note</mat-label>
                      <input type="text" matInput formControlName="tasknote">

                      <mat-error *ngIf="UpdateTaskFormm.controls['tasknote'].hasError('required')">
                        Note is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>

                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>Start Date</mat-label>
                      <input matInput [matDatepicker]="picker3" formControlName='starttime' name="startDate">
                      <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                      <mat-datepicker #picker3></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>End Date</mat-label>
                      <input matInput [matDatepicker]="picker4" formControlName='endtime' name="EndDate">
                      <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                      <mat-datepicker #picker4></mat-datepicker>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                      <mat-label>Weight</mat-label>
                      <input type="number" matInput formControlName="weight">

                      <mat-error *ngIf="UpdateTaskFormm.controls['weight'].hasError('required')">
                        Weight is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>

                </div>




                <div class="col-12">
                  <div
                    class="text-center justify-content-center align-items-center p-4 p-sm-5 border border-2 border-dashed position-relative rounded-3">
                    <!-- Image -->

                    <div>
                      <h6 class="my-2">Upload Task file here
                      </h6>
                      <label style="cursor:pointer;">
                        <span>

                          <input class="form-control stretched-link" type="file" name="my-image" id="image"
                            (change)="UploadTask(file)" #file />
                        </span>
                      </label>
                      <p class="small mb-0 mt-2"><b>Note:</b> Only JPG, JPEG and PNG.
                        Our
                        suggested dimensions are 600px * 450px. Larger image will be
                        cropped
                        to 4:3 to fit our thumbnails/previews.</p>

                    </div>
                  </div>
                </div>


                <div class="d-flex justify-content-end mt-3">
                  <button class="btn btn-primary" mat-dialog-close [disabled]="UpdateTaskFormm.invalid" value="Create"
                    (click)="UpdateFileTask()">Update</button>
                </div>


              </form>
            </div>
          </div>
          <!-- Card body END -->
        </div>
      </div>
    </div>
  </section>
  <!-- =======================
Steps END -->

</ng-template>
<ng-template #ShowSolution>
  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
  style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
  <!-- Main banner background image -->
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <!-- Title -->
        <h1 class="text-white">Soltuion</h1>
      </div>
    </div>
  </div>
</section>
<section>
  <div class="table-responsive border-0">
    <table class="table table-dark-gray align-middle p-4 mb-0 table-hover" style="width: 80%; table-layout: fixed; margin: auto;">
      <!-- Table head -->
      <thead>
        <tr>
          <th scope="col" class="border-0 rounded-start" style=" background-color:#1d3b53 ;">Trainee Name</th>
          <th scope="col" class="border-0" style=" background-color:#1d3b53 ;">Solution Mark</th>
          <th scope="col" class="border-0" style=" background-color:#1d3b53 ;">Solution Note</th>
          <th scope="col" class="border-0 rounded-end" style=" background-color:#1d3b53 ;">Action</th>

        </tr>
      </thead>

      <!-- Table body START -->
      <tbody>



        <!-- Table item -->
        <tr *ngFor="let item of Sol">
          <!-- Course item -->
          <td *ngIf="item.firstname">
            <div class="d-flex align-items-center">
              <!-- Image -->

              <div class="mb-0 ms-2">
                <!-- Title -->
                <h4>{{item.firstname}} {{ item.lastname }}</h4>
                <!-- Info -->

              </div>
            </div>
          </td>

          <!-- Enrolled item -->
          <td *ngIf="item.firstname" class="text-center text-sm-start">{{item.solutionmark}}</td>
          <td *ngIf="item.firstname" class="text-center text-sm-start">{{item.submitionnote}}</td>



          <!-- Price item -->

          <!-- Action item -->
          <td *ngIf="item.firstname">
            <button (click)="downloadSolution(item.solutionid)"
              class="btn btn-sm btn-primary-soft btn-round mb-0"><i
                class="fas fa-fw fa-download"></i></button>
            <button (click)="OpenMarkDialog(item.solutionid)"
              class="btn btn-sm btn-success btn-round me-1 mb-0"><i
              class="far fa-fw fa-edit" aria-hidden="true" mat-dialog-close></i></button>
          </td>
        </tr>





      </tbody>
      <!-- Table body END -->
    </table>
  </div>
</section>
</ng-template>
<ng-template #CreateMarkSolution>



  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
    style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
    <!-- Main banner background image -->
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <!-- Title -->
          <h1 class="text-white">Insert Solution Mark</h1>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-8 mx-auto text-center">
          <!-- Content -->
        </div>
      </div>

      <div class="card bg-transparent border rounded-3 mb-5">
        <div id="stepper" class="bs-stepper stepper-outline">


          <!-- Card body START -->
          <div class="card-body">
            <!-- Step content START -->
            <div class="bs-stepper-content">
              <form [formGroup]="MarkForm">



                <div class="row">
                    <mat-form-field class="example-full-width">
                      <mat-label>Mark</mat-label>
                      <input type="number" matInput formControlName="solutionmark" min="5" [max]="taskweight">

                      <mat-error *ngIf="MarkForm.controls['solutionmark'].hasError('required')">
                        Mark is <strong>required</strong>
                      </mat-error>
                    </mat-form-field>

                </div>

                <div class="d-flex justify-content-end mt-3">
                  <button class="btn btn-primary" mat-dialog-close [disabled]=" MarkForm.invalid" value="Create"
                    (click)="GiveMark()">Insert</button>
                </div>


              </form>
            </div>
          </div>
          <!-- Card body END -->
        </div>
      </div>
    </div>
  </section>
  <!-- =======================
Steps END -->

</ng-template>

<ng-template #TraineeSolutions>
  <section class="py-0 bg-blue h-100px align-items-center d-flex h-200px rounded-0"
  style="background:url(../../../assets/HomeAssets/images/pattern/04.png) no-repeat center center; background-size:cover;">
  <!-- Main banner background image -->
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <!-- Title -->
        <h1 class="text-white">Soltuion</h1>
      </div>
    </div>
  </div>
</section>
<section>
  <div class="table-responsive border-0">
    <table class="table table-dark-gray align-middle p-4 mb-0 table-hover" style="width: 80%; table-layout: fixed; margin: auto;">
      <!-- Table head -->
      <thead>
        <tr>
          <th scope="col" class="border-0 rounded-start" style=" background-color:#1d3b53 ;">Task Name</th>
          <th scope="col" class="border-0 rounded-end"style=" background-color:#1d3b53 ;">Solution Mark</th>
        </tr>
      </thead>

      <!-- Table body START -->
      <tbody>



        <!-- Table item -->
        <tr *ngFor="let item of solutions">
          <!-- Course item -->
          <td>
            <div class="d-flex align-items-center">
              <!-- Image -->

              <div class="mb-0 ms-2">
                <!-- Title -->
                <h4>{{item.tasktype}}</h4>
                <!-- Info -->

              </div>
            </div>
          </td>

          <!-- Enrolled item -->
          <td class="text-center text-sm-start">{{item.solutionmark}}</td>

        </tr>

      </tbody>
      <!-- Table body END -->
    </table>
  </div>
</section>
</ng-template>

